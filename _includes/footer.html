    </main>
  </div>
  <footer class="site-footer" role="contentinfo">
    <div class="wrapper footer-grid">
      <div class="footer-brand">
        <h2 class="footer-title">{{ site.title }}</h2>
        <p class="footer-description">{{ site.description }}</p>
      </div>
      <div class="footer-column">
        <h3 class="footer-heading">快速导航</h3>
        <ul class="footer-links">
          <li><a href="{{ "/" | relative_url }}">最新文章</a></li>
          <li><a href="{{ "/archive/" | relative_url }}">文章归档</a></li>
          <li><a href="{{ "/tags/" | relative_url }}">主题标签</a></li>
          <li><a href="{{ "/about/" | relative_url }}">关于作者</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h3 class="footer-heading">联系</h3>
        <ul class="footer-links">
          <li><a href="mailto:{{ site.author.email }}">{{ site.author.email }}</a></li>
          <li><a href="{{ "/feed.xml" | relative_url }}">RSS 订阅</a></li>
        </ul>
      </div>
    </div>
    <div class="wrapper footer-meta">
      <p>&copy; {{ site.time | date: "%Y" }} {{ site.title }} · 借助 Jekyll 与开源主题生态构建</p>
    </div>
  </footer>
  <script>
    (function () {
      var storageKey = 'pref-theme';
      var root = document.documentElement;
      var toggle = document.querySelector('.theme-toggle');
      var metaTheme = document.querySelector('meta[name="theme-color"]:not([media])');
      var mediaQuery = window.matchMedia ? window.matchMedia('(prefers-color-scheme: dark)') : null;

      function setTheme(theme, persist) {
        root.dataset.theme = theme;
        if (metaTheme) {
          metaTheme.setAttribute('content', theme === 'dark' ? '#0f172a' : '#f8fafc');
        }
        if (persist) {
          try {
            localStorage.setItem(storageKey, theme);
          } catch (err) {
            console.warn('无法保存主题偏好', err);
          }
        }
      }

      setTheme(root.dataset.theme || 'light', false);

      if (toggle) {
        toggle.addEventListener('click', function () {
          var nextTheme = root.dataset.theme === 'dark' ? 'light' : 'dark';
          setTheme(nextTheme, true);
        });
      }

      if (mediaQuery) {
        mediaQuery.addEventListener('change', function (event) {
          if (!localStorage.getItem(storageKey)) {
            setTheme(event.matches ? 'dark' : 'light', false);
          }
        });
      }
    })();
  </script>
</body>
</html>
